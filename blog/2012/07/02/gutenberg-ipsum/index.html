<!DOCTYPE html>
<html lang="en"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">

    <meta name="author" content="Shagun Jhaver">
    <meta name="description" content="Stop using boring, boilerplate Lorem ipsum filler text and build your own random, semi-coherent text from Project Gutenberg books.">
    <meta name="keywords" content="lorem ipusm, text, perl, sh">
    <meta name="generator" content="Hugo 0.88.1" />

    <title>
  Gutenberg ipsum | Shagun Jhaver
</title>

    <link rel="canonical" href="https://www.shagunjhaver.com/blog/2012/07/02/gutenberg-ipsum/">
    <link rel="alternate" type="application/atom+xml" title="Blog Posts" href="https://www.shagunjhaver.com/atom.xml">
    <link rel="alternate" type="application/json" title="JSON Feed" href="https://www.shagunjhaver.com/feed.json">

    <link rel="openid2.provider" href="https://www.google.com/accounts/o8/ud?source=profiles">
    <link rel="openid2.local_id" href="https://www.google.com/profiles/andrewheiss">

    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://www.shagunjhaver.com/profiles/twitter-card-large.png?v=1"/>
    <meta name="twitter:site" content="@shagunjhaver"/>
    <meta name="twitter:title" content="Gutenberg ipsum"/>
    <meta name="twitter:creator" content="@shagunjhaver"/>
    <meta name="twitter:description" content="Stop using boring, boilerplate Lorem ipsum filler text and build your own random, semi-coherent text from Project Gutenberg books."/>


    <meta property="og:title" content="Gutenberg ipsum" />
<meta property="og:description" content="Stop using boring, boilerplate Lorem ipsum filler text and build your own random, semi-coherent text from Project Gutenberg books." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.shagunjhaver.com/blog/2012/07/02/gutenberg-ipsum/" />
<meta property="og:image" content="https://www.shagunjhaver.com/profiles/twitter-card-large.png"/>
<meta property="article:published_time" content="2012-07-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2012-07-02T00:00:00+00:00" />

<meta property="article:author" content="https://www.facebook.com/shagun.jhaver" />
<meta property="article:publisher" content="https://www.facebook.com/shagun.jhaver" />
<meta property="article:section" content="blog" />
<meta property="article:tag" content="lorem ipusm" />
<meta property="article:tag" content="text" />
<meta property="article:tag" content="perl" />
<meta property="article:tag" content="sh" />


    <meta itemprop="name" content="Gutenberg ipsum">
<meta itemprop="description" content="Stop using boring, boilerplate Lorem ipsum filler text and build your own random, semi-coherent text from Project Gutenberg books."><meta itemprop="datePublished" content="2012-07-02T00:00:00+00:00" />
<meta itemprop="dateModified" content="2012-07-02T00:00:00+00:00" />
<meta itemprop="wordCount" content="828"><meta itemprop="image" content="https://www.shagunjhaver.com/profiles/twitter-card-large.png"/>
<meta itemprop="keywords" content="lorem ipusm,text,perl,sh," />

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/pure-and-grids-responsive.min.css">
    <link rel="stylesheet" href="/css/ath-hugo.min.fd8cb76e3e71e1679716940ae61a1383ae9edd503b072df4bc3f709182421c76.css" integrity="sha256-/Yy3bj5x4WeXFpQK5hoTg66e3VA7By30vD9wkYJCHHY=" crossorigin="anonymous" media="screen" />

    <script src="https://kit.fontawesome.com/f9d343c40d.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">    

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=dLX2MbQJLG">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=dLX2MbQJLG">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=dLX2MbQJLG">
    <link rel="manifest" href="/site.webmanifest?v=dLX2MbQJLG">
    <link rel="mask-icon" href="/safari-pinned-tab.svg?v=dLX2MbQJLG" color="#cf4446">
    <link rel="shortcut icon" href="/favicon.ico?v=dLX2MbQJLG">
    <meta name="msapplication-TileColor" content="#170c3a">
    <meta name="theme-color" content="#170c3a">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-527449-5', 'auto');
      ga('send', 'pageview');
    </script>
</head>

<body>

    <div id="layout" class="pure-g">
        <div id="sidebar" class="pure-u-1 pure-u-md-1-4">
            <header>
                <h1 class="title"><a href="/">Shagun Jhaver</a></h1>
                <h2 class="minibio">Social computing, CSCW, HCI, content moderation, and online harassment</h2>

                <nav id="main-nav">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a class="nav-link" href="/">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/cv/">CV</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/research/">Research</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/news/">News</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/now/">Now</a>
                        </li>
                    </ul>
                </nav>
            </header>

        </div> 
    
        <div id="content" class="pure-u-1 pure-u-md-3-4">
        
  <section>
    <article class="content-single">
        <header class="post-header">
            <h1 class="post-title">Gutenberg ipsum</h1>

            <div class="post-meta pure-g">
                <div class="pure-u-1-2">
                    <span class="posted-on">
                        <i class="far fa-calendar-alt" aria-hidden="true"></i>
                        <time datetime='2012-07-02T00:00:00Z'>
                            Monday, July 2, 2012
                        </time>
                    </span>
                </div>
                <div class="reading-time pure-u-1-2">
                    <i class="far fa-clock" aria-hidden="true"></i>
                    4-minute read
                </div>
            </div>
        </header>
    
        <p>I&rsquo;ve decided to try to be more like <a href="http://bencrowder.net/">Ben Crowder</a>, <a href="http://www.todrobbins.com/">Tod Robbins</a>, and <a href="http://brettterpstra.com/">Brett Terpstra</a> and release my code tinkerings into the public more often.</p>
<p>Since upgrading to <a href="http://smilesoftware.com/TextExpander/">TextExpander 4</a> a couple weeks ago, I&rsquo;ve decided to delve into it a lot more. I recently converted from <a href="http://www.ergonis.com/products/typinator/">Typinator</a>, where I only really used a few expansions for <a href="http://www.andrewheiss.com/blog/2009/04/26/typing-transliterated-arabic-quickly/">typing transliterated Arabic</a>. After belatedly stumbling upon a couple posts by <a href="http://brettterpstra.com/dammit-again-with-the-lipsum/">Brett</a> and <a href="http://www.leancrew.com/all-this/2011/02/dissociated-darwin/">Dr. Drang</a>, I found that TextExpander can be used for some pretty fun stuff. Like random Lorem Ipsum-like text based on <em>n</em>-gram algorithms!</p>
<p>I really liked Dr. Drang&rsquo;s concept of using text from Project Gutenberg to build completely random—yet mostly sensible—dummy text, since the standard &ldquo;Lorem ipsum&rdquo; looks really repetitive and boring. Isn&rsquo;t this <em>Brothers Karamazov</em>-esque paragraph a lot better?</p>
<blockquote>
<p>Mitya uttered his wild speech. He turned quickly on his way. “Do you suppose gentlemen, that doesn’t care for an escort, for?” I am gone? You won’t be frightened and cry out: ‘I want to join the choir and shout nastiness into both ears,’ while he ran to his bedroom, lay down and I walked along both of us. Dear ones, why do you wait.</p>
</blockquote>
<p>Or this Homeric sounding stuff?</p>
<blockquote>
<p>And of bounding steeds: Seven captives next a little space Then rush d amid the bright band: great Ithacus, before, First of mortals! for the gods Then swift pursued her urged, and crown&rsquo;d Then sunk unpitied to the dire alarms; Both breathing slaughter, follow&rsquo;d and Patroclus loved remains defend. Beneath.</p>
</blockquote>
<p>I made a couple minor modifications to Dr. Drang&rsquo;s original Perl script, clunkily removing paired characters like quotes and parentheses and allowing new corpus files to be specified with the command line, which makes it easier to repeat the code for multiple TextExpander snippets.</p>
<p>Here&rsquo;s how to get it working:</p>
<ul>
<li>Copy the script below and save it somewhere on your computer (mine is in <code>~/bin/gutenberg_ipsum/</code>).</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e">#!/usr/bin/perl -w</span>
<span style="color:#75715e"># Modified from Dr. Drang&#39;s original script at http://www.leancrew.com/all-this/2011/02/dissociated-darwin/</span>

<span style="color:#66d9ef">use</span> Games::Dissociate;

<span style="color:#75715e"># Choose the corpus file</span>
<span style="color:#66d9ef">if</span> ($#ARGV <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
  $corpus <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;totc.txt&#34;</span>;
} <span style="color:#66d9ef">else</span> {
  $corpus <span style="color:#f92672">=</span> $ARGV[<span style="color:#ae81ff">0</span>];
}

<span style="color:#75715e"># Slurp in the given corpus as a single string.</span>
open(<span style="color:#66d9ef">my</span> $fh, <span style="color:#e6db74">&#34;$ENV{HOME}/bin/gutenberg_ipsum/words/&#34;</span> <span style="color:#f92672">.</span> $corpus) <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;Can&#39;t open&#34;</span>;
{local $/; $corpus <span style="color:#f92672">=</span> <span style="color:#e6db74">&lt;$fh&gt;</span>;}

<span style="color:#75715e"># Dissociate the corpus, using word pairs, and return 15-50 pairs.</span>
$length <span style="color:#f92672">=</span> int(<span style="color:#ae81ff">15</span> <span style="color:#f92672">+</span> rand(<span style="color:#ae81ff">35</span>));
$dis <span style="color:#f92672">=</span> dissociate($corpus, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>, $length);

<span style="color:#75715e"># Remove quotes and other paired characters, since there might be some that are unmatched</span>
<span style="color:#75715e"># But this is an incredibly clunky fix. If I had more time/better Perl chops, I&#39;d probably build some algorithm to find unmatched quotes or parentheses and insert them randomly in the text. But that&#39;s hard :)</span>
$dis <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/[\&#34;\[\]\_\(\)]//gm</span>;

<span style="color:#75715e"># Capitalize the first word and end it with a period.</span>
$dis <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/^(.)/\u$1/</span>;
$dis <span style="color:#f92672">=~</span> <span style="color:#e6db74">s/[.);:?&#39;&#34;, -]+$/./</span>;

<span style="color:#66d9ef">print</span> $dis;
</code></pre></div><ul>
<li>Go to <a href="http://www.gutenberg.org/">Project Gutenberg</a> and download the full text for some book (or create some other corpus), stripping out the legal text, table of contents, and anything else you don&rsquo;t want the script to use to generate random text. Save that file in some folder on your computer (mine is in <code>~/bin/gutenberg_ipsum/words/</code>).</li>
<li>Modify line 7 of the script to default to your newly downloaded and saved corpus (mine is <code>totc.txt</code>, for <em>A Tale of Two Cities</em>).</li>
<li>Modify line 14 to point to wherever you saved your script file and corpus file(s).</li>
<li>Make the script executable (<code>chmod +x gutenberg_ipsum.pl</code> at the terminal).</li>
<li>Install Games::Dissociate. You can either follow <a href="http://www.leancrew.com/all-this/2011/02/dissociated-darwin/">Dr. Drang&rsquo;s instructions</a> or use Perl&rsquo;s CPAN shell:
<ul>
<li>Type <code>sudo perl -MCPAN -e shell</code> at a terminal and hit enter for each of the configuration options if they haven&rsquo;t been preset previously</li>
<li>Type <code>install Games::Dissociate</code></li>
<li>Once everything has installed, type <code>q</code> to exit the Perl shell</li>
</ul>
</li>
<li>Test your script by running it from the terminal: <code>gutenberg_ipsum.pl</code>. You should get some fun random filler text.</li>
<li>Use other corpus texts by passing their filenames as arguments: <code>gutenberg_ipsum.pl alice.txt</code> for <em>Alice in Wonderland</em>, for example. Just make sure a corpus with that name lives in your corpus directory.</li>
</ul>
<p>Once the script is installed and running, It&rsquo;s trivial to make it work with TextExpander. Make a new Shell Script snippet with this code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e">#!/usr/bin/env bash
</span><span style="color:#75715e"></span>~/bin/gutenberg_ipsum/gutenberg_ipsum.pl princessofmars.txt
</code></pre></div><p>Make as many snippets as you want—one for each of your corpus files. All you need to change in each script is the argument for the file. Replace <code>princessofmars.txt</code> with the name of whatever corpus you want that snippet to use.</p>
<p>In the end you can create a good collection of different automatic random filler text from any corpus you want.</p>
<p><img src="te-snippets-small.png" alt="Gutenberg ipsum snippets"></p>
<p>If TextExpander 4 allowed its new Fill Ins to work as variables in a shell script, this whole collection could be a lot simpler—it could just be one dropdown menu of all the corpus files in the <code>words</code> folder. But since that&rsquo;s not possible, this will have to do.</p>
<p>All the credit to this collection of snippets goes to <a href="http://www.leancrew.com/">Dr. Drang</a> and <a href="http://brettterpstra.com/">Brett Terpstra</a>. You should read their stuff—really.</p>

    
        <footer>
            <div class="tags">
    <i class="fas fa-tags" aria-hidden="true"></i>&ensp;
    <a href="/blog/tags/lorem-ipusm/">lorem ipusm</a>
    <span class="separator">•</span>
    <a href="/blog/tags/text/">text</a>
    <span class="separator">•</span>
    <a href="/blog/tags/perl/">perl</a>
    <span class="separator">•</span>
    <a href="/blog/tags/sh/">sh</a></div>

        </footer>

        <div id="comments">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                 
                var disqus_shortname = 'andrewheisscom';
                var disqus_title = document.title;
                var disqus_url = 'https:\/\/www.shagunjhaver.com\/blog\/2012\/07\/02\/gutenberg-ipsum\/';

                 
                (function () {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
                    Disqus.</a></noscript>
        </div>
    </article>
</section>

  

        </div> 
    </div> 
    
    <div id="footer">
        <footer>
    <ul class="links">
        <li>
            <a href="mailto:shagun.jhaver@rutgers.edu" aria-label="E-mail"   >
                <i class="fa fa-envelope" aria-hidden="true"></i>
            </a>
        </li>
        <li>
            <a href="https://medium.com/@shagunjhaver" aria-label="Medium"   >
                <i class="fab fa-medium" aria-hidden="true"></i>
            </a>
        </li>
        <li>
            <a href="https://scholar.google.com/citations?user=OgtKT6UAAAAJ" aria-label="Google Scholar"   >
                <i class="ai ai-google-scholar" aria-hidden="true"></i>
            </a>
        </li>
        <li>
            <a href="https://dl.acm.org/author_page.cfm?id=99658987207" aria-label="ACM Digital Library"   >
                <i class="ai ai-acmdl-square" aria-hidden="true"></i>
            </a>
        </li>
        <li>
            <a href="https://github.com/shaguniitb" aria-label="GitHub"   >
                <i class="fab fa-github" aria-hidden="true"></i>
            </a>
        </li>
        <li>
            <a href="https://twitter.com/shagunjhaver" aria-label="Twitter"   >
                <i class="fab fa-twitter" aria-hidden="true"></i>
            </a>
        </li>
        <li>
            <a href="https://www.facebook.com/shagun.jhaver" aria-label="Facebook"   >
                <i class="fab fa-facebook" aria-hidden="true"></i>
            </a>
        </li>
        <li>
            <a href="https://www.linkedin.com/in/shagun-jhaver/" aria-label="LinkedIn"   >
                <i class="fab fa-linkedin" aria-hidden="true"></i>
            </a>
        </li>
    </ul>

    <p class="colophon"> <i class="fas fa-map-marker-alt"></i> New Brunswick, NJ </p>
    <p class="colophon">ORCID iD: <a href="https://orcid.org/0000-0002-6728-7101">0000-0002-6728-7101</a></p>

   <p class="colophon">
    This site is a derivative of <a href="https://github.com/andrewheiss/ath-hugo">ath-hugo</a> by Andrew Heiss, used under CC <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">4.0</a>.
   </p>


    <p class="colophon"><a href="https://github.com/shaguniitb/ath-hugo">Code for site</a></p>
</footer>

    </div>

</body>

</html>
